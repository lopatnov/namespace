(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Namespace = factory());
}(this, (function () { 'use strict';

  var Namespace=function(){function t(e){if(!(this instanceof t))return new t(e);this.init(e);}return t.attach=function(e){for(var r=0,i=Object.keys(t.prototype);r<i.length;r++){var n=i[r];e[n]=t.prototype[n];}return e},t.prototype.init=function(t){if(this.isValidPath(t)){var e=this.parsePath(t),r=e.shift();this.isValidKey(r)&&this.appendChildren(e,r);}},t.prototype.isValidPath=function(t){return "string"==typeof t||Array.isArray(t)&&t.length>0},t.prototype.parsePath=function(t){var e=this;return Array.isArray(t)?t:t.split(this.getSplitter()).filter((function(t){return e.filterName(t)}))},t.prototype.getSplitter=function(){return /[\[\]."']/gi},t.prototype.filterName=function(t){return !!t&&!!t.trim()},t.prototype.isValidKey=function(t){return "string"==typeof t},t.prototype.getNamespaceClass=function(){return this instanceof t?this.constructor:t},t.prototype.take=function(t){var e,r=this.isValidPath(t),i=this,n=void 0,a=!0,s=[];if(r)for(s=this.parsePath(t);s.length>0;){if(!(e=s.shift())||!i[e]){a=!1,n=e?i[e]:void 0;break}i=i[e];}return {last:i,lastName:e,errLast:n,left:s,exists:a,isValidPath:r}},t.prototype.appendChildren=function(t,e){var r=new(this.getNamespaceClass())(t);return r.applyTo(this,e),r},t.prototype.applyTo=function(t,e){if(!this.isValidKey(e))throw new Error("name of context is "+e);t[e]=this;},t.prototype.exists=function(t){return this.take(t).exists},t.prototype.goto=function(t){var e=this.take(t);return e.exists?e.last:e.errLast},t.prototype.namespace=function(t){var e=this.take(t);return e.exists?e.last:this.appendChildren.call(e.last,e.left.slice(),e.lastName).goto(e.left)},t}();

  return Namespace;

})));
//# sourceMappingURL=namespace.min.js.map
