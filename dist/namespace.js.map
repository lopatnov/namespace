{"version":3,"file":"namespace.js","sources":["../src/namespace.ts"],"sourcesContent":["/** Namespace class */\nexport default class Namespace {\n  static Default = Namespace;\n\n  constructor(name: string | Array<string>) {\n    this.validate(name);\n    const p = this.parseName(name);\n    const n = p.shift();\n    if (this.init(n)) {\n      const ns = new Namespace.Default(p);\n      ns.applyTo(this, n as string);\n    }\n  }\n\n  private parseName(name: string | Array<string>) {\n    return Array.isArray(name) ? name : name.split(/[\\[\\].\"']/gi).filter(x => !!x && !!x.trim())\n  }\n\n  protected validate(name: string | Array<string>) {\n    if (!name) {\n      throw new Error('The Namespace name doesn\\'t exists');\n    }\n  }\n\n  protected init(name: string | undefined): boolean {\n    return typeof name === 'string';\n  }\n\n  public applyTo(context: any, name: string) {\n    context[name] = this;\n  }\n\n  public goto(name: string | Array<string>): Namespace {\n    let context: any = this;\n    if (name && name.length) {\n      const parts = this.parseName(name);\n      for (const part of parts) {\n        context = context[part];\n      }\n    }\n    return context;\n  }\n}\n"],"names":[],"mappings":";;;;;;EAAA;;MAIE,mBAAY,IAA4B;UACtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;UACpB,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;UAC/B,IAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;UACpB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;cAChB,IAAM,EAAE,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;cACpC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAW,CAAC,CAAC;WAC/B;OACF;MAEO,6BAAS,GAAjB,UAAkB,IAA4B;UAC5C,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAA,CAAC,CAAA;OAC7F;MAES,4BAAQ,GAAlB,UAAmB,IAA4B;UAC7C,IAAI,CAAC,IAAI,EAAE;cACT,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;WACvD;OACF;MAES,wBAAI,GAAd,UAAe,IAAwB;UACrC,OAAO,OAAO,IAAI,KAAK,QAAQ,CAAC;OACjC;MAEM,2BAAO,GAAd,UAAe,OAAY,EAAE,IAAY;UACvC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;OACtB;MAEM,wBAAI,GAAX,UAAY,IAA4B;UACtC,IAAI,OAAO,GAAQ,IAAI,CAAC;UACxB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;cACvB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;cACnC,KAAmB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;kBAArB,IAAM,IAAI,cAAA;kBACb,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;eACzB;WACF;UACD,OAAO,OAAO,CAAC;OAChB;MAvCM,iBAAO,GAAG,SAAS,CAAC;MAwC7B,gBAAC;GAzCD;;;;;;;;"}